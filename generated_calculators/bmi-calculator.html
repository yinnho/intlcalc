<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMIèº«ä½“è´¨é‡æŒ‡æ•°è®¡ç®—å™¨</title>
    <meta name="description" content="BMIèº«ä½“è´¨é‡æŒ‡æ•°è®¡ç®—å™¨ - æ”¯æŒå…¬åˆ¶å’Œè‹±åˆ¶å•ä½ï¼Œæä¾›å¥åº·å»ºè®®å’ŒBMIåˆ†ç±»">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .calculator-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            max-width: 500px;
            width: 100%;
            backdrop-filter: blur(10px);
        }

        .calculator-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            text-align: center;
        }

        .calculator-header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }

        .calculator-header .description {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .calculator-main {
            padding: 30px;
        }

        .unit-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 5px;
        }

        .unit-option {
            flex: 1;
            padding: 12px 20px;
            border: none;
            background: transparent;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .unit-option.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .input-field {
            flex: 1;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1.1rem;
            transition: border-color 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .input-unit {
            color: #666;
            font-weight: 600;
            min-width: 40px;
        }

        .height-inputs {
            display: flex;
            gap: 10px;
        }

        .height-inputs .input-field {
            flex: 1;
        }

        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 25px;
        }

        .calculate-btn:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .result-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            display: none;
        }

        .result-section.show {
            display: block;
        }

        .bmi-value {
            text-align: center;
            margin-bottom: 20px;
        }

        .bmi-number {
            font-size: 3rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .bmi-category {
            font-size: 1.2rem;
            font-weight: 600;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
        }

        .bmi-category.underweight {
            background: #e3f2fd;
            color: #1976d2;
        }

        .bmi-category.normal {
            background: #e8f5e8;
            color: #2e7d32;
        }

        .bmi-category.overweight {
            background: #fff3e0;
            color: #f57c00;
        }

        .bmi-category.obese {
            background: #ffebee;
            color: #d32f2f;
        }

        .bmi-info {
            margin-top: 20px;
        }

        .bmi-info h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .bmi-info p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .bmi-ranges {
            background: #fff;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .bmi-ranges h4 {
            color: #333;
            margin-bottom: 15px;
            text-align: center;
        }

        .range-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .range-item:last-child {
            border-bottom: none;
        }

        .range-label {
            font-weight: 600;
        }

        .range-value {
            color: #666;
        }

        .health-tips {
            background: #e8f4fd;
            border-radius: 15px;
            padding: 20px;
            border-left: 4px solid #667eea;
        }

        .health-tips h4 {
            color: #333;
            margin-bottom: 15px;
        }

        .tips-list {
            list-style: none;
            padding: 0;
        }

        .tips-list li {
            color: #666;
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .tips-list li:before {
            content: "ğŸ’¡";
            position: absolute;
            left: 0;
        }

        @media (max-width: 600px) {
            .calculator-container {
                margin: 10px;
            }
            
            .calculator-main {
                padding: 20px;
            }
            
            .bmi-number {
                font-size: 2.5rem;
            }
            
            .height-inputs {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="calculator-container">
        <header class="calculator-header">
            <h1>BMIè®¡ç®—å™¨</h1>
            <p class="description">è®¡ç®—èº«ä½“è´¨é‡æŒ‡æ•°ï¼Œè¯„ä¼°å¥åº·çŠ¶æ€</p>
        </header>
        
        <main class="calculator-main">
            <!-- å•ä½é€‰æ‹©å™¨ -->
            <div class="unit-selector">
                <button class="unit-option active" onclick="selectUnit('metric')">å…¬åˆ¶ (kg/cm)</button>
                <button class="unit-option" onclick="selectUnit('imperial')">è‹±åˆ¶ (lb/ft)</button>
            </div>

            <!-- è¾“å…¥åŒºåŸŸ -->
            <div class="input-section">
                <!-- èº«é«˜è¾“å…¥ -->
                <div class="input-group">
                    <label for="height">èº«é«˜:</label>
                    <div id="height-container-metric" class="input-container">
                        <input type="number" id="height-cm" class="input-field" placeholder="170" step="0.1" min="50" max="250">
                        <span class="input-unit">å˜ç±³</span>
                    </div>
                    <div id="height-container-imperial" class="input-container height-inputs" style="display: none;">
                        <input type="number" id="height-ft" class="input-field" placeholder="5" step="1" min="3" max="8">
                        <span class="input-unit">è‹±å°º</span>
                        <input type="number" id="height-in" class="input-field" placeholder="8" step="1" min="0" max="11">
                        <span class="input-unit">è‹±å¯¸</span>
                    </div>
                </div>

                <!-- ä½“é‡è¾“å…¥ -->
                <div class="input-group">
                    <label for="weight">ä½“é‡:</label>
                    <div class="input-container">
                        <input type="number" id="weight" class="input-field" placeholder="70" step="0.1" min="20" max="300">
                        <span class="input-unit" id="weight-unit">åƒå…‹</span>
                    </div>
                </div>

                <!-- å¹´é¾„è¾“å…¥ï¼ˆå¯é€‰ï¼‰ -->
                <div class="input-group">
                    <label for="age">å¹´é¾„ï¼ˆå¯é€‰ï¼‰:</label>
                    <div class="input-container">
                        <input type="number" id="age" class="input-field" placeholder="25" step="1" min="1" max="120">
                        <span class="input-unit">å²</span>
                    </div>
                </div>

                <!-- æ€§åˆ«é€‰æ‹©ï¼ˆå¯é€‰ï¼‰ -->
                <div class="input-group">
                    <label>æ€§åˆ«ï¼ˆå¯é€‰ï¼‰:</label>
                    <div class="unit-selector">
                        <button class="unit-option" id="gender-male" onclick="selectGender('male')">ç”·æ€§</button>
                        <button class="unit-option" id="gender-female" onclick="selectGender('female')">å¥³æ€§</button>
                    </div>
                </div>
            </div>

            <!-- è®¡ç®—æŒ‰é’® -->
            <button class="calculate-btn" onclick="calculateBMI()">è®¡ç®—BMI</button>

            <!-- ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
            <div class="result-section" id="result-section">
                <div class="bmi-value">
                    <div class="bmi-number" id="bmi-number">0.0</div>
                    <div class="bmi-category" id="bmi-category">æ­£å¸¸ä½“é‡</div>
                </div>
                
                <div class="bmi-info" id="bmi-info">
                    <h4>å¥åº·è¯„ä¼°</h4>
                    <p id="health-assessment">æ‚¨çš„BMIå€¼åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œè¯·ç»§ç»­ä¿æŒå¥åº·çš„ç”Ÿæ´»æ–¹å¼ã€‚</p>
                </div>
            </div>

            <!-- BMIèŒƒå›´å‚è€ƒ -->
            <div class="bmi-ranges">
                <h4>BMIåˆ†ç±»æ ‡å‡†</h4>
                <div class="range-item">
                    <span class="range-label" style="color: #1976d2;">ä½“é‡è¿‡è½»</span>
                    <span class="range-value">BMI < 18.5</span>
                </div>
                <div class="range-item">
                    <span class="range-label" style="color: #2e7d32;">æ­£å¸¸ä½“é‡</span>
                    <span class="range-value">18.5 â‰¤ BMI < 25</span>
                </div>
                <div class="range-item">
                    <span class="range-label" style="color: #f57c00;">è¶…é‡</span>
                    <span class="range-value">25 â‰¤ BMI < 30</span>
                </div>
                <div class="range-item">
                    <span class="range-label" style="color: #d32f2f;">è‚¥èƒ–</span>
                    <span class="range-value">BMI â‰¥ 30</span>
                </div>
            </div>

            <!-- å¥åº·å»ºè®® -->
            <div class="health-tips">
                <h4>å¥åº·ç”Ÿæ´»å»ºè®®</h4>
                <ul class="tips-list">
                    <li>ä¿æŒå‡è¡¡é¥®é£Ÿï¼Œå¤šåƒè”¬èœæ°´æœ</li>
                    <li>æ¯å‘¨è‡³å°‘è¿›è¡Œ150åˆ†é’Ÿä¸­ç­‰å¼ºåº¦è¿åŠ¨</li>
                    <li>ä¿è¯å……è¶³ç¡çœ ï¼Œæ¯å¤©7-9å°æ—¶</li>
                    <li>å®šæœŸä½“æ£€ï¼Œç›‘æµ‹å¥åº·æŒ‡æ ‡</li>
                    <li>é¿å…å¸çƒŸå’Œè¿‡é‡é¥®é…’</li>
                    <li>ä¿æŒè‰¯å¥½çš„å¿ƒç†å¥åº·çŠ¶æ€</li>
                </ul>
            </div>
        </main>
    </div>

    <script>
        let currentUnit = 'metric';
        let selectedGender = null;

        // å•ä½é€‰æ‹©
        function selectUnit(unit) {
            currentUnit = unit;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.unit-selector .unit-option').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // åˆ‡æ¢è¾“å…¥ç•Œé¢
            const metricContainer = document.getElementById('height-container-metric');
            const imperialContainer = document.getElementById('height-container-imperial');
            const weightUnit = document.getElementById('weight-unit');

            if (unit === 'metric') {
                metricContainer.style.display = 'flex';
                imperialContainer.style.display = 'none';
                weightUnit.textContent = 'åƒå…‹';
                
                // æ›´æ–°å ä½ç¬¦
                document.getElementById('weight').placeholder = '70';
            } else {
                metricContainer.style.display = 'none';
                imperialContainer.style.display = 'flex';
                weightUnit.textContent = 'ç£…';
                
                // æ›´æ–°å ä½ç¬¦
                document.getElementById('weight').placeholder = '154';
            }

            // æ¸…é™¤ç»“æœ
            hideResult();
        }

        // æ€§åˆ«é€‰æ‹©
        function selectGender(gender) {
            selectedGender = gender;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('gender-male').classList.remove('active');
            document.getElementById('gender-female').classList.remove('active');
            document.getElementById('gender-' + gender).classList.add('active');
        }

        // è®¡ç®—BMI
        function calculateBMI() {
            try {
                let height, weight;

                // è·å–ä½“é‡
                weight = parseFloat(document.getElementById('weight').value);
                if (!weight || weight <= 0) {
                    alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ä½“é‡');
                    return;
                }

                // è·å–èº«é«˜å¹¶è½¬æ¢ä¸ºç±³
                if (currentUnit === 'metric') {
                    const heightCm = parseFloat(document.getElementById('height-cm').value);
                    if (!heightCm || heightCm <= 0) {
                        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„èº«é«˜');
                        return;
                    }
                    height = heightCm / 100; // è½¬æ¢ä¸ºç±³
                    
                    // å¦‚æœæ˜¯ç£…ï¼Œè½¬æ¢ä¸ºåƒå…‹
                } else {
                    const heightFt = parseFloat(document.getElementById('height-ft').value) || 0;
                    const heightIn = parseFloat(document.getElementById('height-in').value) || 0;
                    
                    if (heightFt <= 0) {
                        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„èº«é«˜');
                        return;
                    }
                    
                    // è½¬æ¢ä¸ºç±³
                    height = (heightFt * 12 + heightIn) * 0.0254;
                    
                    // ç£…è½¬æ¢ä¸ºåƒå…‹
                    weight = weight * 0.453592;
                }

                // è®¡ç®—BMI
                const bmi = weight / (height * height);
                
                // æ˜¾ç¤ºç»“æœ
                displayResult(bmi);
                
            } catch (error) {
                alert('è®¡ç®—å‡ºç°é”™è¯¯ï¼Œè¯·æ£€æŸ¥è¾“å…¥çš„æ•°æ®');
            }
        }

        // æ˜¾ç¤ºç»“æœ
        function displayResult(bmi) {
            const bmiNumber = document.getElementById('bmi-number');
            const bmiCategory = document.getElementById('bmi-category');
            const healthAssessment = document.getElementById('health-assessment');
            const resultSection = document.getElementById('result-section');

            // æ˜¾ç¤ºBMIå€¼
            bmiNumber.textContent = bmi.toFixed(1);

            // ç¡®å®šBMIåˆ†ç±»
            let category, categoryClass, assessment;
            
            if (bmi < 18.5) {
                category = 'ä½“é‡è¿‡è½»';
                categoryClass = 'underweight';
                assessment = 'æ‚¨çš„BMIåä½ï¼Œå»ºè®®å¢åŠ è¥å…»æ‘„å…¥ï¼Œé€‚å½“å¢é‡ã€‚å»ºè®®å’¨è¯¢è¥å…»å¸ˆåˆ¶å®šå¥åº·çš„å¢é‡è®¡åˆ’ã€‚';
            } else if (bmi < 25) {
                category = 'æ­£å¸¸ä½“é‡';
                categoryClass = 'normal';
                assessment = 'æ­å–œï¼æ‚¨çš„BMIå€¼åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œè¯·ç»§ç»­ä¿æŒå¥åº·çš„ç”Ÿæ´»æ–¹å¼å’Œé¥®é£Ÿä¹ æƒ¯ã€‚';
            } else if (bmi < 30) {
                category = 'è¶…é‡';
                categoryClass = 'overweight';
                assessment = 'æ‚¨çš„BMIåé«˜ï¼Œå»ºè®®æ§åˆ¶é¥®é£Ÿå¹¶å¢åŠ è¿åŠ¨é‡ã€‚å»ºè®®å’¨è¯¢åŒ»ç”Ÿåˆ¶å®šåˆé€‚çš„å‡é‡è®¡åˆ’ã€‚';
            } else {
                category = 'è‚¥èƒ–';
                categoryClass = 'obese';
                assessment = 'æ‚¨çš„BMIå€¼è¿‡é«˜ï¼Œå¼ºçƒˆå»ºè®®å’¨è¯¢åŒ»ç”Ÿï¼Œåˆ¶å®šç§‘å­¦çš„å‡é‡å’Œå¥åº·ç®¡ç†è®¡åˆ’ã€‚';
            }

            // å¦‚æœæœ‰å¹´é¾„å’Œæ€§åˆ«ä¿¡æ¯ï¼Œæä¾›æ›´è¯¦ç»†çš„å»ºè®®
            const age = parseInt(document.getElementById('age').value);
            if (age && selectedGender) {
                assessment += getAgeGenderSpecificAdvice(bmi, age, selectedGender);
            }

            // æ›´æ–°ç•Œé¢
            bmiCategory.textContent = category;
            bmiCategory.className = 'bmi-category ' + categoryClass;
            healthAssessment.textContent = assessment;

            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            resultSection.classList.add('show');
            
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            resultSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // æ ¹æ®å¹´é¾„å’Œæ€§åˆ«æä¾›ç‰¹å®šå»ºè®®
        function getAgeGenderSpecificAdvice(bmi, age, gender) {
            let advice = '\n\nåŸºäºæ‚¨çš„å¹´é¾„å’Œæ€§åˆ«çš„é¢å¤–å»ºè®®ï¼š';
            
            if (age < 18) {
                advice += '\nâ€¢ é’å°‘å¹´æœŸé—´èº«ä½“ä»åœ¨å‘è‚²ï¼Œå»ºè®®åœ¨åŒ»ç”ŸæŒ‡å¯¼ä¸‹ç®¡ç†ä½“é‡ã€‚';
            } else if (age >= 65) {
                advice += '\nâ€¢ è€å¹´äººåº”æ³¨æ„è¥å…»å……è¶³ï¼Œé€‚åº¦è¿åŠ¨ï¼Œå®šæœŸä½“æ£€ã€‚';
            }
            
            if (gender === 'female') {
                advice += '\nâ€¢ å¥³æ€§åº”æ³¨æ„é“è´¨å’Œé’™è´¨çš„è¡¥å……ï¼Œä¿æŒéª¨éª¼å¥åº·ã€‚';
                if (age >= 18 && age <= 50) {
                    advice += '\nâ€¢ è‚²é¾„æœŸå¥³æ€§åº”ä¿æŒåˆé€‚ä½“é‡ï¼Œæœ‰åŠ©äºç”Ÿè‚²å¥åº·ã€‚';
                }
            } else if (gender === 'male') {
                advice += '\nâ€¢ ç”·æ€§åº”æ³¨æ„å¿ƒè¡€ç®¡å¥åº·ï¼Œæ§åˆ¶è…¹éƒ¨è„‚è‚ªã€‚';
            }
            
            return advice;
        }

        // éšè—ç»“æœ
        function hideResult() {
            document.getElementById('result-section').classList.remove('show');
        }

        // é”®ç›˜äº‹ä»¶ç›‘å¬
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                calculateBMI();
            }
        });

        // è¾“å…¥éªŒè¯
        function validateInput() {
            const inputs = document.querySelectorAll('.input-field');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    if (this.value < 0) {
                        this.value = '';
                    }
                });
            });
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            validateInput();
        });
    </script>
</body>
</html> 